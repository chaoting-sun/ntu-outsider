type Query {
  chatBox(name1: String!, name2: String!): ChatBox!
  # 搜尋貼文的時候應該用 title 或 tag 搜？
  # 搜出來應該要是 array ?
  postByTitle(title: String!): Post!
  postByTag(tag: String!): Post!
}

type Comment {
  postId: ID!
  userId: ID!
  content: String!
}

type User {
  name: String!
  email: String!
  password: String!
  # preference: [String!]
}

scalar DateTime # ref: https://v1.prisma.io/forum/t/couldnt-find-type-datetime-in-any-of-the-schemas/4310/3
# 新增 author
type Post {
  userId: ID!
  # author: User!
  title: String!
  classNumber: String!
  className: String!
  content: String!
  condition: String!
  deadline: DateTime! # 先暫時用 scalar 做某種轉換，還找不到其他更好的 DateTime 表示法
  preference: [String]!
}

type Class {
  classNumber: String!
  className: String!
}

type ChatBox {
  name: String!
  messages: [Message!]
}

type Message {
  sender: String!
  body: String!
}

type Mutation {
  createUser(name: String!, email: String!, password: String!): User!
  # updateUser(name: String!, email: String!, password: String!): User!
  deleteUser(userId: ID!): User!

  createPost(
    userId: ID!
    classNumber: String!
    className: String!
    title: String!
    content: String!
    condition: String!
    deadline: DateTime!
  ): Post!
  # updatePost(
  #   id: ID!,
  #   content: String!,
  #   condition: String!,
  #   deadline: DateTime!,
  # ): Post!
  deletePost(
    postId: ID!
  ): Post!

  createComment(postId: ID!, userId: ID!, content: String!): Comment!
  # updateComment: Comment!
  deleteComment(commentId: ID!): Comment!

  createMessage(name:ID!, to:ID!, body: String!): Message!
  # updateMessage: Comment!
  # deleteMessage: Comment!
}

# type Subscription {

# }
