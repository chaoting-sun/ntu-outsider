type Query {
  user(name: String!): [User!]!
  post(postId: String!): Post!
  queryChatBox(name1: ID!, name2: ID!): ChatBox!
  queryChatBoxes(userId: ID!): [ChatBox!]!
  queryUser(account: String!, password: String!): User
  queryPost(type: String!, queryString: String!): [Post]
  queryPostCollection(userId: String!, type: String! ): [Post]!
  
}

type Post {
  _id: ID!
  userId: ID!
  author: User!
  title: String!
  classNo: String!
  className: String!
  teacherName: String!
  content: String!
  condition: Int!
  deadline: String!
  tag: [String]
}

type User {
  _id: ID!
  account: String!
  name: String!
  password: String!
  postCollection: [ID]
}


type ChatBox {
  name: String!
  messages: [Message!]
}

type Message {
  sender: String!
  body: String!
}

type Mutation {
  createAccount(account: String!, name: String!, password: String!): User!
  updateUser(userId: ID!, name: String!, account: String!): User!
  updatePassword(userId: ID!, oldpassword: String!, newPassword: String!): User!
  deleteUser(userId: ID!): User!

  createPost(
    userId: ID!
    title: String!
    classNo: String!
    className: String!
    teacherName: String!
    content: String!
    condition: Int!
    deadline: String!
    tag: [String]
  ): Post!

  updatePost(
    postId: ID!
    title: String!
    content: String!
    classNo: String!
    className: String!
    teacherName: String!
    condition: Int!
    deadline: String!
    tag: [String]
  ): Post!
  deletePost(postId: ID!): Post!
  updatePostCollection(userId: ID!, postId: ID!): User!

  createChatBox(name: ID!, to: ID!): ChatBox!
  createMessage(name: ID!, to: ID!, message: String!): Message!
}

# type Subscription {
  
# }
